<div class="main-container">
  <div class="header">
    <div class="company-logo">
      <img src="/images/Ellipse 77.png" alt="" />
      <img src="/images/edit-2.png" alt="" />
    </div>
    <div class="company-name">
      <div class="name">
        <h1>{{ companyData.name }}</h1>
      </div>
      <div class="email">
        <h4>{{ companyData.email }}</h4>
      </div>
    </div>
  </div>
  <div class="company-details">
    <div class="form">
      <div class="form-row">
        <div class="form-details">
          <label for="">Name</label>
          <input
            [(ngModel)]="companyData.name"
            [readOnly]="!allowEdit"
            type="text"
          />
        </div>
        <div class="form-details">
          <label for="">Company Type</label>
          <input
            [(ngModel)]="companyData.type"
            [readOnly]="!allowEdit"
            type="text"
          />
        </div>
      </div>

      <div class="form-row">
        <div class="form-details">
          <label for="">Email Address</label>
          <input
            [(ngModel)]="companyData.email"
            [readOnly]="!allowEdit"
            type="email"
          />
        </div>
        <div class="form-details">
          <label for="">Address</label>
          <input
            [(ngModel)]="companyData.address"
            [readOnly]="!allowEdit"
            type="text"
          />
        </div>
      </div>

      <div class="form-row">
        <div class="form-details">
          <label for="">Country</label>
          <select
            [(ngModel)]="companyData.country"
            [disabled]="!allowEdit"
            (ngModelChange)="onCountryChange()"
          >
            <option value="" disabled>
              {{ loadingCountries ? "Loading countries..." : "Select Country" }}
            </option>
            <option *ngFor="let country of countries" [value]="country">
              {{ country }}
            </option>
          </select>
        </div>
        <div class="form-details">
          <label for="">State</label>
          <select
            [(ngModel)]="companyData.state"
            [disabled]="!allowEdit || !companyData.country"
          >
            <option value="" disabled>
              {{
                loadingStates
                  ? "Loading states..."
                  : companyData.country
                  ? "Select State"
                  : "Select country first"
              }}
            </option>
            <option *ngFor="let state of states" [value]="state">
              {{ state }}
            </option>
          </select>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="allowEdit" class="bottom">
    <button class="primary-btn" (click)="cancelEdit()">Cancel</button>
    <button class="secondary-btn" (click)="saveChanges()">Update</button>
  </div>
</div>
